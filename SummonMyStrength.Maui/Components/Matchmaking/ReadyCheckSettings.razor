@using SummonMyStrength.Maui.Data
@inject IUserSettingsService UserSettingsService

<SettingsCheckbox Label="Accept Ready Checks?" Value="_userSettings.AutoAcceptReadyChecks" ValueChanged="CheckedChangedAsync" />

@code {
    private UserSettings _userSettings;

    protected override async Task OnInitializedAsync()
    {
        _userSettings = await UserSettingsService.GetSettingsAsync();
    }

    private async Task CheckedChangedAsync(bool newValue)
    {
        _userSettings.AutoAcceptReadyChecks = newValue;
        await UserSettingsService.SaveSettingsAsync();
    }
}
